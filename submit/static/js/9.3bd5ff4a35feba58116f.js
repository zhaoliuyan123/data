webpackJsonp([9],{"6WW2":function(t,e,o){"use strict";e.b=function(){return i.b?l.a.post("/api/getmoviepiaofang"):new r.a(function(t,e){setTimeout(t,2e3,l.a.post("/api/getmoviepiaofang-mock"))})},e.a=function(){return l()({method:"post",url:"/excel/getMergeTableData"})};var a=o("//Fk"),r=o.n(a),n=o("mtWM"),l=o.n(n),i=o("0xDb")},cRpu:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("6WW2"),r={data:function(){return{tableData:[]}},computed:{maxHeight:function(){return window.screen.availHeight-220+"px"}},methods:{getData:function(){var t=this;Object(a.a)().then(function(e){console.log(e),t.tableData=e.data})},getSummaries:function(t){var e=t.columns,o=t.data,a=[];return e.forEach(function(t,e){if(0!==e)if(1!==e){if(4===e||9===e){var r=o.map(function(e){return e[t.property]});console.log(r);var n=r.reduce(function(t,e){var o=Number(e.split("/")[0]);return isNaN(o)?t:t+o},0),l=r.reduce(function(t,e){var o=Number(e.split("/")[1]);return isNaN(o)?t:t+o},0),i=(100*n/l).toFixed(2)+"%";return a[e]=n+"/"+l+" - ("+i+")",void(a[e]+="")}var u=o.map(function(e){return Number(e[t.property])});u.every(function(t){return isNaN(t)})?a[e]="N/A":(a[e]=u.reduce(function(t,e){var o=Number(e);return isNaN(o)?t:t+e},0),a[e]+="")}else a[e]="总计";else a[e]=""}),a}},created:function(){this.getData()}},n={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"max-height":t.maxHeight,"show-summary":"","summary-method":t.getSummaries}},[o("el-table-column",{attrs:{align:"center",label:"发起人"}},[o("el-table-column",{attrs:{type:"selection",width:"60",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{property:"name",align:"center",label:"发起人","show-overflow-tooltip":""}})],1),t._v(" "),o("el-table-column",{attrs:{align:"center",label:"发起任务"}},[o("el-table-column",{attrs:{property:"total",align:"center",label:"任务发起","show-overflow-tooltip":""}}),t._v(" "),o("el-table-column",{attrs:{property:"passcount",align:"center",label:"审核通过","show-overflow-tooltip":""}}),t._v(" "),o("el-table-column",{attrs:{property:"compRatio",align:"center",label:"任务完成率",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.compRatio)+" - ("+t._s((100*e.row.passcount/e.row.total).toFixed(2))+"%)")])]}}])})],1),t._v(" "),o("el-table-column",{attrs:{align:"center",label:"任务办理"}},[o("el-table-column",{attrs:{property:"notdo",align:"center",label:"未开始","show-overflow-tooltip":""}}),t._v(" "),o("el-table-column",{attrs:{property:"doing",align:"center",label:"办理中","show-overflow-tooltip":""}}),t._v(" "),o("el-table-column",{attrs:{property:"voertime",align:"center",label:"已过期","show-overflow-tooltip":""}}),t._v(" "),o("el-table-column",{attrs:{property:"getover",align:"center",label:"已完成","show-overflow-tooltip":""}}),t._v(" "),o("el-table-column",{attrs:{property:"implementRatio",align:"center",label:"任务执行率",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.implementRatio)+" - ("+t._s((100*e.row.getover/e.row.total).toFixed(2))+"%)")])]}}])})],1)],1)],1)},staticRenderFns:[]};var l=o("VU/8")(r,n,!1,function(t){o("oW0q")},"data-v-f8b979aa",null);e.default=l.exports},oW0q:function(t,e){}});